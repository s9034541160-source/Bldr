# üõ†Ô∏è –°–¢–ê–ù–î–ê–†–¢–´ –†–ï–ó–£–õ–¨–¢–ê–¢–û–í TOOLS

## üéØ –ü–†–ò–ù–¶–ò–ü: –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢

**–ù–ò–ö–û–ì–î–ê –ù–ï –ü–ï–†–ï–°–ë–ò–†–ê–ô–¢–ï FRONTEND –ò–ó-–ó–ê –ù–û–í–û–ì–û TOOL!**

–í—Å–µ tools –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `ToolResultDisplay`.

---

## üìã –°–¢–ê–ù–î–ê–†–¢–ù–´–ï –¢–ò–ü–´ –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### ‚úÖ –†–ê–ó–†–ï–®–ï–ù–ù–´–ï –¢–ò–ü–´ (—Å—Ç—Ä–æ–≥–∏–π ENUM):

```typescript
type ResultType = 
  | 'text'      // –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  | 'table'     // –¢–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
  | 'file'      // –§–∞–π–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
  | 'image'     // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  | 'chart'     // –ì—Ä–∞—Ñ–∏–∫–∏/–¥–∏–∞–≥—Ä–∞–º–º—ã
  | 'json'      // JSON –¥–∞–Ω–Ω—ã–µ
```

### ‚ùå –ó–ê–ü–†–ï–©–ï–ù–ù–´–ï –¢–ò–ü–´:

```typescript
// –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö!
'advanced_table'  // ‚ùå –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'table' + metadata
'search_results'  // ‚ùå –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'table' + metadata  
'rag_output'      // ‚ùå –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'table' + metadata
'custom_format'   // ‚ùå –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑–æ–≤—ã–π —Ç–∏–ø + metadata
```

---

## üèóÔ∏è –°–¢–†–£–ö–¢–£–†–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:

```python
{
    "status": "success",
    "result_type": "table",  # ‚Üê –ë–ê–ó–û–í–´–ô –¢–ò–ü
    "result_title": "üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞",
    "result_table": [...],   # ‚Üê –î–ê–ù–ù–´–ï
    "metadata": {           # ‚Üê "–ö–í–ê–†–ì–ò" –î–õ–Ø –ö–û–ú–ü–û–ù–ï–ù–¢–ê
        "columns": ["rank", "score", "title"],
        "sortable": True,
        "mode": "rag_search",
        "search_query": "—Å–ø 119"
    },
    "execution_time": 4.731
}
```

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:

```python
# –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö!
{
    "status": "success",
    "result_type": "advanced_table",  # ‚ùå –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ç–∏–ø
    "data": {                        # ‚ùå –î–∞–Ω–Ω—ã–µ –≤ data
        "results": [...]
    }
}
```

---

## üé® –ú–ï–¢–ê–î–ê–ù–ù–´–ï –î–õ–Ø –ö–û–ú–ü–û–ù–ï–ù–¢–ê

### üìä –¢–ê–ë–õ–ò–¶–´:

```python
"metadata": {
    "columns": ["rank", "score", "title", "content"],  # –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏
    "sortable": True,                                  # –í–∫–ª—é—á–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    "searchable": True,                                # –í–∫–ª—é—á–∏—Ç—å –ø–æ–∏—Å–∫
    "mode": "rag_search",                             # –†–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    "highlight": ["content"],                         # –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö
    "actions": ["download", "view"]                    # –î–µ–π—Å—Ç–≤–∏—è —Å –∑–∞–ø–∏—Å—è–º–∏
}
```

### üìù –¢–ï–ö–°–¢:

```python
"metadata": {
    "format": "markdown",     # –§–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–∞
    "highlight": True,        # –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
    "copyable": True,         # –ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
    "downloadable": True      # –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
}
```

### üìÅ –§–ê–ô–õ–´:

```python
"metadata": {
    "preview": True,          # –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–æ–≤
    "download_all": True,     # –°–∫–∞—á–∞—Ç—å –≤—Å–µ
    "file_types": ["pdf", "docx"]  # –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤
}
```

---

## üîß –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `ToolResultDisplay` **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

### ‚úÖ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ï–û–ë–†–ê–ó–û–í–ê–ù–ò–Ø:

```typescript
// Tool –≤–µ—Ä–Ω—É–ª:
{
    "data": {
        "results": [...]
    }
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç:
{
    "result_table": [...],
    "result_type": "table"
}
```

### ‚úÖ –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–ú–´–ï –§–û–†–ú–ê–¢–´:

```typescript
// –§–æ—Ä–º–∞—Ç 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π
{ "result_type": "table", "result_table": [...] }

// –§–æ—Ä–º–∞—Ç 2: data.results  
{ "data": { "results": [...] } }

// –§–æ—Ä–º–∞—Ç 3: data –∫–∞–∫ –º–∞—Å—Å–∏–≤
{ "data": [...] }

// –§–æ—Ä–º–∞—Ç 4: data.content
{ "data": { "content": "text" } }
```

---

## üöÄ –ü–†–ò–ú–ï–†–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô TOOL:

```python
def execute(query: str) -> Dict[str, Any]:
    results = search_database(query)
    
    return {
        "status": "success",
        "result_type": "table",  # ‚Üê –ë–ê–ó–û–í–´–ô –¢–ò–ü
        "result_title": f"üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: {query}",
        "result_table": results,  # ‚Üê –î–ê–ù–ù–´–ï
        "metadata": {             # ‚Üê "–ö–í–ê–†–ì–ò"
            "mode": "rag_search",
            "search_query": query,
            "sortable": True
        },
        "execution_time": 4.731
    }
```

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô TOOL:

```python
def execute(query: str) -> Dict[str, Any]:
    results = search_database(query)
    
    return {
        "status": "success",
        "result_type": "advanced_table",  # ‚ùå –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π —Ç–∏–ø
        "data": {                         # ‚ùå –î–∞–Ω–Ω—ã–µ –≤ data
            "results": results
        }
    }
```

---

## üéØ –ü–†–ê–í–ò–õ–ê –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–û–í

### ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã** (`text`, `table`, `file`, `image`, `chart`, `json`)
2. **–ü–æ–º–µ—â–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è** (`result_table`, `result_content`, `result_url`)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `metadata` –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏** (—Ä–µ–∂–∏–º—ã, –æ–ø—Ü–∏–∏, "–∫–≤–∞—Ä–≥–∏")
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º**

### ‚ùå –ó–ê–ü–†–ï–©–ï–ù–û:

1. **–°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã** (`advanced_table`, `custom_format`)
2. **–ü–æ–º–µ—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `data`** (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è)
3. **–¢—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ frontend** –¥–ª—è –Ω–æ–≤–æ–≥–æ tool
4. **–•–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –ª–æ–≥–∏–∫—É** –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

**–° —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º:**
- ‚úÖ **–ù–æ–≤—ã–π tool** ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
- ‚úÖ **–ù–µ—Ç –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏** frontend
- ‚úÖ **–ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç** –¥–ª—è –≤—Å–µ—Ö tools
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å —á–µ—Ä–µ–∑ metadata** ("–∫–≤–∞—Ä–≥–∏")

**–ë–û–õ–¨–®–ï –ù–ò–ö–û–ì–î–ê –ù–ï –ü–ï–†–ï–°–ë–ò–†–ê–ô–¢–ï FRONTEND –ò–ó-–ó–ê TOOL!** üöÄ
