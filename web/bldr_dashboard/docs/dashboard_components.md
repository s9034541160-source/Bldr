# Bldr Empire v2 - Полная панель управления

## Структура компонентов

### Основные компоненты

1. **App.tsx** - Главный компонент приложения с навигацией
2. **ControlPanel.tsx** - Панель управления системой
3. **AIShell.tsx** - Интерфейс для взаимодействия с AI
4. **DBTools.tsx** - Инструменты для работы с базой данных
5. **BotControl.tsx** - Управление Telegram ботом
6. **FileManager.tsx** - Менеджер файлов
7. **Analytics.tsx** - Аналитика и визуализация данных
8. **RAGModule.tsx** - Модуль RAG (уже существующий)

## Функциональность компонентов

### Control Panel
- Кнопки для основных API вызовов (/train, /query, /ai, /db, /bot-send)
- Статус проверки системы (/health)
- Responsive дизайн с Ant Design

### AI Shell
- Чат-интерфейс для взаимодействия с AI
- Выбор ролей (coordinator, chief_engineer, analyst)
- История разговора
- Поддержка многострочного ввода (Shift+Enter)

### DB Tools
- Интерфейс для выполнения Cypher запросов к Neo4j
- Таблица результатов с автоматической настройкой колонок
- Поддержка больших наборов данных

### Bot Control
- Отправка команд Telegram боту
- История команд с временными метками
- Обработка ошибок

### File Manager
- Сканирование файлов по указанному пути
- Отображение статистики (всего файлов, скопировано)
- Интеграция с /files-scan API

### Analytics
- Визуализация метрик системы (NDCG, Coverage, Violations)
- Диаграмма сущностей (Pie chart)
- Метрики производительности (Bar chart)
- Прогресс этапов (Line chart)
- Real-time логи этапов через WebSocket

## Интеграция с API

Все компоненты используют общий сервис API (`services/api.ts`):

### Эндпоинты:
- `/train` - запуск обучения RAG
- `/query` - семантический поиск
- `/ai` - вызов AI с определенной ролью
- `/db` - выполнение Cypher запросов
- `/bot` - отправка команд боту
- `/files-scan` - сканирование файлов
- `/health` - проверка состояния системы
- `/metrics` - получение метрик
- `/ws` - WebSocket для real-time обновлений

## Стилизация

Компоненты используют "rainbow Tinker style":
- Цветовая кодировка этапов пайплайна
- Градиентные фоны для высоких оценок
- Responsive дизайн для мобильных устройств
- Ант Design компоненты для консистентности

## Использование React Query

Все компоненты используют React Query для:
- Кэширования данных
- Автоматического обновления
- Обработки состояний загрузки/ошибки
- Оптимизации производительности

## WebSocket интеграция

Analytics компонент использует Socket.io для:
- Real-time обновлений этапов обучения
- Отображения прогресса в реальном времени
- Логов выполнения пайплайна

## Тестирование

Компоненты можно тестировать через:
1. Запуск backend сервера
2. Открытие http://localhost:3000
3. Переход между вкладками
4. Выполнение различных действий

## Совместимость

Панель управления полностью совместима с:
- SuperBuilder архитектурой
- 14-этапным симбиотическим пайплайном
- Ролевой системой (coordinator, chief_engineer и др.)
- Существующими API эндпоинтами