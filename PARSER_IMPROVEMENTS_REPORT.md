# üìä –û–¢–ß–ï–¢ –û–ë –£–õ–£–ß–®–ï–ù–ò–Ø–• –ü–ê–†–°–ï–†–û–í –°–ú–ï–¢ –ò –ë–Æ–î–ñ–ï–¢–ê

## üéØ –¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª—É—á—à–∏—Ö –Ω–∞—Ä–∞–±–æ—Ç–æ–∫ –∏–∑ `I:\–Ω–µ–π—Ä–æ—Å–µ—Ç–∫–∏\—Å—Ç—Ä–æ–π—Ç—ç–∫\–ø—Ä–æ–≥–∞` –∏ `I:\–Ω–µ–π—Ä–æ—Å–µ—Ç–∫–∏\—Å—Ç—Ä–æ–π—Ç—ç–∫\budget` –≤ —Å–∏—Å—Ç–µ–º—É Bldr –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–º–µ—Ç –∏ —Ä–∞—Å—á–µ—Ç–∞ –±—é–¥–∂–µ—Ç–∞.

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 1. üîß –£–õ–£–ß–®–ï–ù–ù–´–ô –ü–ê–†–°–ï–† –°–ú–ï–¢ (`core/enhanced_smeta_parser.py`)

**–û—Å–Ω–æ–≤–∞–Ω –Ω–∞:** `I:\–Ω–µ–π—Ä–æ—Å–µ—Ç–∫–∏\—Å—Ç—Ä–æ–π—Ç—ç–∫\–ø—Ä–æ–≥–∞\app\services\adaptive_estimate_parser.py`

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞** —Å–º–µ—Ç (–ì–†–ê–ù–î-–°–º–µ—Ç–∞, Smeta.RU, –ê–í–ö-5, Win–°–º–µ—Ç–∞)
- ‚úÖ **–£–º–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–ª–æ–Ω–æ–∫** –∏–∑ Excel/CSV —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤** —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–º–µ—Ç
- ‚úÖ **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π** (—Ä–∞–±–æ—Ç—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è**
- ‚úÖ **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –ì–≠–°–ù/–§–ï–†/–¢–ï–†** –∏–∑ —Ç–µ–∫—Å—Ç–∞

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```
üìä –û–ø—Ä–µ–¥–µ–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç: grand_smeta
üìà –ù–∞–π–¥–µ–Ω–æ –ø–æ–∑–∏—Ü–∏–π: 516
üí∞ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 0.00 —Ä—É–±.
```

### 2. üí∞ –£–õ–£–ß–®–ï–ù–ù–´–ô –ü–ê–†–°–ï–† –ë–Æ–î–ñ–ï–¢–ê (`core/enhanced_budget_parser.py`)

**–û—Å–Ω–æ–≤–∞–Ω –Ω–∞:** `I:\–Ω–µ–π—Ä–æ—Å–µ—Ç–∫–∏\—Å—Ç—Ä–æ–π—Ç—ç–∫\budget\budget_fixed.py`

**–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã Excel** –±–µ–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–µ–π –±—é–¥–∂–µ—Ç–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–º–µ—Ç—ã
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Å—è—á–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** (12 –º–µ—Å—è—Ü–µ–≤)
- ‚úÖ **–†–∞—Å—á–µ—Ç –§–û–¢, —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–æ–≤, –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ—á–Ω—ã—Ö**
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –±—é–¥–∂–µ—Ç–∞** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```
üìä –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 50,000,000.00 —Ä—É–±.
üí∏ –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã: 9,312,000.00 —Ä—É–±.
üíµ –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å: 40,688,000.00 —Ä—É–±.
üìà –ú–∞—Ä–∂–∞ –ø—Ä–∏–±—ã–ª–∏: 81.38%
```

### 3. üîó –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –°–£–©–ï–°–¢–í–£–Æ–©–ï–ô –°–ò–°–¢–ï–ú–û–ô

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `core/estimate_parser_enhanced.py` - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
- ‚úÖ `tools/custom/auto_budget.py` - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –±—é–¥–∂–µ—Ç–∞

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞** - –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤—ã–π –∫–æ–¥
2. **Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π** - –µ—Å–ª–∏ –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## üìà –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –ü–∞—Ä—Å–µ—Ä —Å–º–µ—Ç:
- ‚úÖ **–§–æ—Ä–º–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω:** grand_smeta
- ‚úÖ **–ü–æ–∑–∏—Ü–∏–π –Ω–∞–π–¥–µ–Ω–æ:** 516
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:** –î–∞

### –ü–∞—Ä—Å–µ—Ä –±—é–¥–∂–µ—Ç–∞:
- ‚úÖ **–†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–µ–π:** –§–û–¢ (12%), –°—Ç—Ä–∞—Ö–æ–≤—ã–µ (30.2%), –ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ—á–Ω—ã–µ (2.76%)
- ‚úÖ **–ú–∞—Ä–∂–∞ –ø—Ä–∏–±—ã–ª–∏:** 81.38%
- ‚úÖ **–§–æ—Ä–º—É–ª—ã Excel:** –†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### auto_budget –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:
- ‚úÖ **–°—Ç–∞—Ç—É—Å:** success
- ‚úÖ **–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:** 100,000,000.00 —Ä—É–±.
- ‚úÖ **–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å:** 81,376,000.00 —Ä—É–±.
- ‚úÖ **–ú–∞—Ä–∂–∞ –ø—Ä–∏–±—ã–ª–∏:** 81.38%

## üöÄ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ô –°–ò–°–¢–ï–ú–´

### 1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å–º–µ—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –¥–∞–Ω–Ω—ã—Ö

### 2. **–¢–æ—á–Ω–æ—Å—Ç—å**
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel/CSV
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞ –±—é–¥–∂–µ—Ç–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π

### 3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –ë—ã—Å—Ç—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Å–º–µ—Ç
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

### 4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

## üìã –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

```
core/
‚îú‚îÄ‚îÄ enhanced_smeta_parser.py      # –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä —Å–º–µ—Ç
‚îú‚îÄ‚îÄ enhanced_budget_parser.py     # –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –±—é–¥–∂–µ—Ç–∞
‚îî‚îÄ‚îÄ estimate_parser_enhanced.py   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

tools/custom/
‚îî‚îÄ‚îÄ auto_budget.py               # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—é–¥–∂–µ—Ç–∞

test_enhanced_parsers.py         # –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
test_auto_budget_fix.py          # –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–∞—Ö —Å–º–µ—Ç
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
3. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Å–º–µ—Ç
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RAG —Å–∏—Å—Ç–µ–º–æ–π** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üèÜ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–£—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –ª—É—á—à–∏–µ –Ω–∞—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ —Å–∏—Å—Ç–µ–º—É Bldr. –ü–∞—Ä—Å–µ—Ä—ã —Å–º–µ—Ç –∏ –±—é–¥–∂–µ—Ç–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ç–æ—á–Ω–µ–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –±–æ–ª—å—à–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∏ –Ω–∞–¥–µ–∂–Ω–æ–π –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û**
